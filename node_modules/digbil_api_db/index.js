'use strict';

var connect = require('./connect');

// connect to a given database and returns the mongoose object
// @param {String} url to connect to
// @param {Object} options to be passed to mongoose when connecting
// @param logger optional logger. Default to the console.
module.exports.connect = function(url, options, logger, cb) {
    if(!logger) {
        cb = logger;
        logger = require('./simpleLogger');
    }

    return connect(url, options, logger).nodeify(cb);
}

module.exports.runMigrations = require('./migration.js');
module.exports.ObjectId = require('mongoose').Types.ObjectId;
