'use strict';

var get_now_utc = require('../../utils').get_now_utc;
var mongoose = require('mongoose');
var Schema = mongoose.Schema;
var ObjectId = Schema.Types.ObjectId;

// generic schema constructor for operations log.
module.exports.create = function() {
    return new Schema({

        ts: {
            type: Date,
            default: Date.now // will get converted to UTC
        },
        user: {
            type: ObjectId,
            ref: 'userprofile'
        },
        path: String,
        http_verb: String,
        json_body: String, // serialized
        comment: String // could be anything

    }, {_id: false});
};
