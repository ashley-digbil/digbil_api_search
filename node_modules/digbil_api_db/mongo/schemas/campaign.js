'use strict';

var oplog_schema = require('./oplog');
module.exports.load = function(mongoose) {
	var Schema = mongoose.Schema;
    var ObjectId = Schema.Types.ObjectId;

    return new Schema({
        oplogs: [oplog_schema.create()],
        ts: Date,
        ddate: Date,
        name: String,

        entity: {
            type: ObjectId,
            ref: 'entities'
        },

        players: [{ type: ObjectId, ref: 'player', _id: false }],
        medias: [{ type: ObjectId, ref: 'media', _id: false }],
        deck: [{ type: ObjectId, ref: 'deck', _id: false }],
        groups: [{ type: ObjectId, ref: 'group', _id: false }]

    });

};
