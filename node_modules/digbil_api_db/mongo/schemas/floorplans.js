'use strict';

module.exports.load = function(mongoose) {
    var Schema = mongoose.Schema;

    var floorplans = new Schema({
        name: [{
            lan: String, //ISO 639-3
            name: {
                type: String,
                trim: true
            },
            _id: false
        }],
        description: String,
        ts: {
            type: Date,
            default: Date.now
        },
        ddate: Date,
        entity: {
            type: Schema.Types.ObjectId,
            ref: 'entities'
        },
        signs: [{
            signtype: {
                type: Schema.Types.ObjectId,
                ref: 'signtypes'
            },
            // disambiguation if there are multiple identical signtype
            // for the floorplan
            nickname: String,
            _id: false
        }]
    });

    return floorplans;
};
